var OOUI={View:function(a){this.dom=null;var b;if(a){var c=a.tagName,d=a.id;b=a.style;this.dom=a.tagName?document.createElement(c):a.id?document.getElementById(d):document.createElement("div")}else this.dom=document.createElement("div");this._style=this.dom.style;b&&this.putStyle(b);this.dom.obj=this;this.dom.draggable=!1;this.dom.ondragstart=function(a){return!1};this.dom.addEventListener("contextmenu",function(a){a.preventDefault()},!1);this.putStyle({webkitUserSelect:"none",mozUserSelect:"none",
msUserSelect:"none",userSelect:"none",margin:"0",padding:"0"});this._parent=null}};
OOUI.View.prototype={constructor:OOUI.View,putStyle:function(a){for(var b in a)this._style[b]=a[b]},getWidth:function(){return this.dom.clientWidth},getHeight:function(){return this.dom.clientHeight},setParent:function(a){this._parent=a;a.dom.appendChild(this.dom);this.onSetParent()},onSetParent:function(){},getParent:function(){return this._parent},getParentWidth:function(){return this.dom.parentNode.style.clientWidth},getParentHeight:function(){return this.dom.parentNode.style.clientHeight},updateView:function(){},
removeSelf:function(){this.dom.parentNode.removeChild(this.dom);this._parent&&this._parent.removeChild(this)},hide:function(){this._style.visibility="hidden"},show:function(){this._style.visibility="visible"},isVisible:function(){return"hidden"==this._style.visibility?!1:!0},toggleVisibility:function(){this.isVisible()?this.hide():this.show()},fullscreen:function(){var a=this.dom;a.requestFullscreen?a.requestFullscreen():a.mozRequestFullScreen?a.mozRequestFullScreen():a.webkitRequestFullscreen?a.webkitRequestFullscreen():
a.msRequestFullscreen&&a.msRequestFullscreen()}};OOUI.AbsoluteView=function(a){OOUI.View.call(this,a);this._style.position="absolute";this._styleNameY=this._styleNameX="";if(a){var b=a.positionMode;a=a.position;b?this.setPositionMode(b):this.setPositionMode(OOUI.AbsoluteView.POSITION_MODE_LEFT_TOP);a&&this.setPosition(a.x,a.y)}else this.setPositionMode(OOUI.AbsoluteView.POSITION_MODE_LEFT_TOP)};OOUI.AbsoluteView.prototype=Object.create(OOUI.View.prototype);
OOUI.AbsoluteView.prototype.constructor=OOUI.AbsoluteView;
OOUI.AbsoluteView.prototype.setPositionMode=function(a){var b=this._style;b.left=b.right=b.top=b.bottom="";switch(a){case OOUI.AbsoluteView.POSITION_MODE_LEFT_TOP:this._styleNameX=OOUI.AbsoluteView.X_NAME_LEFT;this._styleNameY=OOUI.AbsoluteView.Y_NAME_TOP;break;case OOUI.AbsoluteView.POSITION_MODE_LEFT_BOTTOM:this._styleNameX=OOUI.AbsoluteView.X_NAME_LEFT;this._styleNameY=OOUI.AbsoluteView.Y_NAME_BOTTOM;break;case OOUI.AbsoluteView.POSITION_MODE_RIGHT_TOP:this._styleNameX=OOUI.AbsoluteView.X_NAME_RIGHT;
this._styleNameY=OOUI.AbsoluteView.Y_NAME_TOP;break;case OOUI.AbsoluteView.POSITION_MODE_RIGHT_BOTTOM:this._styleNameX=OOUI.AbsoluteView.X_NAME_RIGHT,this._styleNameY=OOUI.AbsoluteView.Y_NAME_BOTTOM}};OOUI.AbsoluteView.prototype.setPosition=function(a,b){a&&(this._style[this._styleNameX]=a+"px");b&&(this._style[this._styleNameY]=b+"px")};OOUI.AbsoluteView.prototype.getX=function(){var a=this._style[this._styleNameX];return""==a?0:parseInt(a)};
OOUI.AbsoluteView.prototype.getY=function(){var a=this._style[this._styleNameY];return""==a?0:parseInt(a)};OOUI.AbsoluteView.POSITION_MODE_LEFT_TOP=1;OOUI.AbsoluteView.POSITION_MODE_LEFT_BOTTOM=2;OOUI.AbsoluteView.POSITION_MODE_RIGHT_TOP=3;OOUI.AbsoluteView.POSITION_MODE_RIGHT_BOTTOM=4;OOUI.AbsoluteView.X_NAME_LEFT="left";OOUI.AbsoluteView.X_NAME_RIGHT="right";OOUI.AbsoluteView.Y_NAME_TOP="top";OOUI.AbsoluteView.Y_NAME_BOTTOM="bottom";
OOUI.ViewGroup=function(a){OOUI.AbsoluteView.call(this,a);this._children=[]};OOUI.ViewGroup.prototype=Object.create(OOUI.AbsoluteView.prototype);OOUI.ViewGroup.prototype.constructor=OOUI.ViewGroup;OOUI.ViewGroup.prototype.addChild=function(a){this._children.push(a);if(a.setParent)a.setParent(this);else throw"ViewGroup added invalidate child !";};OOUI.ViewGroup.prototype.removeChild=function(a){var b=-1,c;for(c in this._children)if(this._children[c]===a){b=c;break}-1!=b&&this._children.splice(b,1)};
OOUI.ViewGroup.prototype.updateSelf=function(){};OOUI.ViewGroup.prototype.updateChildren=function(){for(var a in this._children)this._children[a].updateView()};OOUI.ViewGroup.prototype.updateView=function(){this.updateSelf();this.updateChildren()};
